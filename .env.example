# VoiceGrow 环境变量配置模板
# 复制此文件为 .env 并填入实际值

# ========== 服务器配置 ==========
SERVER_HOST=0.0.0.0
WEBSOCKET_PORT=4399
HTTP_PORT=8000
DEBUG=false

# ========== ASR 配置 (Whisper) ==========
ASR_MODEL_SIZE=small          # tiny, base, small, medium, large-v3
ASR_DEVICE=cpu                # cpu, cuda
ASR_COMPUTE_TYPE=int8         # float16, int8, int8_float16
ASR_LANGUAGE=zh

# ========== TTS 配置 ==========
# 后端选择: "ai-manager" (Google Cloud TTS) | "edge-tts" (本地合成)
TTS_BACKEND=edge-tts

# --- ai-manager 模式 ---
TTS_BASE_URL=http://ai-manager:8000
TTS_API_KEY=ak_your_key
TTS_SECRET_KEY=sk_your_secret
TTS_VOICE_ZH=zh-CN-Neural2-C
TTS_VOICE_EN=en-US-Neural2-C
TTS_SPEAKING_RATE=0.9
TTS_PITCH=0.0
TTS_TIMEOUT=30

# --- edge-tts 模式 ---
# 音频合成后上传 MinIO，通过 VPS Nginx 反代提供公网访问
TTS_EDGE_VOICE_ZH=zh-CN-XiaoxiaoNeural
TTS_EDGE_VOICE_EN=en-US-JennyNeural
TTS_EDGE_CACHE_DIR=/tmp/voicegrow_tts_tmp

# ========== LLM 配置 (ai-manager API) ==========
LLM_BASE_URL=http://ai-manager:8000
LLM_API_KEY=ak_your_key
LLM_SECRET_KEY=sk_your_secret
LLM_MODEL=gemini-2.0-flash-exp
LLM_MAX_TOKENS=300
LLM_TEMPERATURE=0.7
LLM_TIMEOUT=30

# ========== MySQL 配置 ==========
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_USER=voicegrow
MYSQL_PASSWORD=voicegrow123
MYSQL_DATABASE=voicegrow
MYSQL_ROOT_PASSWORD=root123

# ========== MinIO 配置 ==========
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=voicegrow
MINIO_SECURE=false
# 公网音频 URL 前缀 (VPS Nginx 反代地址，音箱通过此 URL 访问所有音频)
MINIO_PUBLIC_BASE_URL=https://your-vps.example.com/audio

# ========== Redis 配置 ==========
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ========== 音频配置 ==========
AUDIO_SAMPLE_RATE=16000
AUDIO_SILENCE_THRESHOLD=0.5
AUDIO_MAX_DURATION=10.0
AUDIO_WAKE_TIMEOUT=5.0
